{% extends "base.html" %}

{% block content %}
<h1>محصولات دسته {{ category.name }}</h1>

<ul>
  {% for product in products %}
    <li>
      <a href="{% url 'product_detail' slug=product.slug %}">
        {{ product.title }}
      </a>
      - {{ product.price }} تومان
    </li>
  {% empty %}
    <li>محصولی در این دسته وجود ندارد.</li>
  {% endfor %}
</ul>

<div class="pagination">
  {% if is_paginated %}
    {% if page_obj.has_previous %}
      <a href="?page={{ page_obj.previous_page_number }}">قبلی</a>
    {% endif %}

    <span>صفحه {{ page_obj.number }} از {{ page_obj.paginator.num_pages }}</span>

    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}">بعدی</a>
    {% endif %}
  {% endif %}
</div>

<a href="{% url 'category_list' %}">بازگشت به دسته‌ها</a>
{% endblock %}
